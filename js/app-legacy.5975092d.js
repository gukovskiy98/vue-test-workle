(function(){"use strict";var t={3512:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var r=n(9567),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading-overlay",{attrs:{is_visible:t.is_loading}}),n("div",{staticClass:"images-wrapper"},[t.items.length||t.is_loading?t._e():n("div",{staticClass:"no-data-message"},[t._v("No data to show")]),t._l(t.items,(function(t){return n("photo-item",{key:t.id,attrs:{item:t}})}))],2),n("pagination-control",{staticClass:"pagination",attrs:{start:1,end:t.total_pages,initial_current:t.current_page},on:{"change-page":t.onPageChange}})],1)},a=[],s=n(6198);n(8975),n(1539),n(2222),n(1703),n(1249),n(8309);function o(){var t=document.documentElement.clientWidth;return t>=768?320:t>=480?440:t}var c={PER_PAGE:12,TOTAL_PAGES:59,CLIENT_ID:"ILGI1sL6MU_RwCf-oWrdfk0duatvi9ofvhKretKdX7U",PREVIEW_W:o()},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_visible,expression:"is_visible"}],staticClass:"loading"},[t._m(0)])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lds-default"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])}],d={props:{is_visible:Boolean}},f=d,p=n(1001),v=(0,p.Z)(f,u,l,!1,null,"44c76613",null),h=v.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"inner"},t._l(t.available_pages,(function(e,r){return n("div",{key:e+" "+r},[r&&e-t.available_pages[r-1]>1?n("span",{staticClass:"dots"},[t._v("...")]):t._e(),n("a",{staticClass:"link",class:{active:e===t.current},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.onPageChange(e)}}},[t._v(t._s(e))])])})),0)])},m=[],g=n(4479),w=(n(9653),n(2707),n(7327),n(189),n(8783),n(3948),{props:{start:Number,end:Number,initial_current:Number},computed:{available_pages:function(){var t=this;return(0,g.Z)(new Set([this.start,this.current-1,this.current,this.current+1,this.end])).filter((function(e){return e>=t.start&&e<=t.end})).sort((function(t,e){return t-e}))}},data:function(){return{current:this.initial_current||1}},methods:{onPageChange:function(t){this.current=t,this.$emit("change-page",t)}}}),C=w,b=(0,p.Z)(C,_,m,!1,null,"ce268466",null),k=b.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"photo-wrapper"},[r("div",{staticClass:"content-top"},[r("img",{staticClass:"user-pic",attrs:{src:t.item.user_icon_src}}),r("div",{staticClass:"user-name"},[t._v(t._s(t.item.full_name))]),r("a",{staticClass:"user-link",attrs:{href:t.item.user_link,target:"_blank"}},[t._v(t._s(t.item.user_name))])]),r("img",{staticClass:"content-middle",attrs:{width:t.PREVIEW_W+"px",src:t.preview_src,alt:t.item.alt}}),r("div",{staticClass:"content-bottom"},[r("span",{staticClass:"likes-count"},[t._v(t._s(t.likes_with_spaces))]),r("img",{staticClass:"eye",attrs:{src:n(9279)}})])])},P=[],x=window.devicePixelRatio,O={props:{item:Object},computed:{preview_src:function(){return"".concat(this.item.src,"&w=").concat(c.PREVIEW_W*x,"&fit=max")},likes_with_spaces:function(){return this.item.likes.toLocaleString()}},created:function(){this.PREVIEW_W=c.PREVIEW_W}},y=O,I=(0,p.Z)(y,E,P,!1,null,"6935c114",null),R=I.exports,W={name:"App",components:{LoadingOverlay:h,PaginationControl:k,PhotoItem:R},methods:{onPageChange:function(t){this.current_page=t,this.is_loading=!0,this.updateData()},updateData:function(){var t=arguments,e=this;return(0,s.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:e.current_page,n.next=3,fetch("https://api.unsplash.com/photos?page=".concat(r,"&per_page=").concat(c.PER_PAGE),{method:"GET",headers:{Authorization:"Client-ID ".concat(c.CLIENT_ID)}}).then((function(t){if(e.is_loading=!1,t.ok)return t.json();throw new Error("error while fetching images")})).then((function(t){e.items=t.map((function(t){return{id:t.id,full_name:t.user.name||"",user_name:"@"+t.user.username||0,user_icon_src:t.user.profile_image.medium||"",user_link:t.user.links.html||"",likes:t.likes||0,src:t.urls.raw,alt:"unable to load image"}}))})).catch((function(t){console.error(t)}));case 3:case"end":return n.stop()}}),n)})))()}},updated:function(){},mounted:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateData();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{is_loading:!0,current_page:1,total_pages:c.TOTAL_PAGES,items:[]}}},T=W,Z=(0,p.Z)(T,i,a,!1,null,null,null),j=Z.exports;r.Z.config.productionTip=!1,new r.Z({render:function(t){return t(j)}}).$mount("#app")},9279:function(t,e,n){t.exports=n.p+"img/eye.5d589301.svg"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){var t=[];n.O=function(e,r,i,a){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],i=t[l][1],a=t[l][2];for(var o=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(o=!1,a<s&&(s=a));if(o){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,i,a]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p="/vue-test-workle/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,s=r[0],o=r[1],c=r[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var l=c(n)}for(e&&e(r);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self["webpackChunkvue_test_workle"]=self["webpackChunkvue_test_workle"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3512)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.5975092d.js.map